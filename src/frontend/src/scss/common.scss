/** =================================================
 * Bootstrapの変数カスタマイズ（14px完全対応版）
 * 設定順序: 基本設定 → フォント → スペーシング → コンポーネント
 * ================================================= */

/** =================================================
 * 1. 基本設定（ベースフォントサイズ・スペーシング）
 * ================================================= */
$font-size-base: 0.875rem; // 14px (16px * 0.875)
$spacer: 0.875rem;         // 14px (16px * 0.875)

/** =================================================
 * 2. フォントサイズ階層の設定
 * ================================================= */
// 基本フォントサイズ階層
$font-size-sm: $font-size-base * 0.857; // 12px (14px * 0.857)
$font-size-lg: $font-size-base * 1.143; // 16px (14px * 1.143)

// 見出しフォントサイズ（14px基準）
$h1-font-size: $font-size-base * 2.286; // 32px (14px * 2.286)
$h2-font-size: $font-size-base * 2;     // 28px (14px * 2)
$h3-font-size: $font-size-base * 1.714; // 24px (14px * 1.714)
$h4-font-size: $font-size-base * 1.429; // 20px (14px * 1.429)
$h5-font-size: $font-size-base * 1.143; // 16px (14px * 1.143)
$h6-font-size: $font-size-base;         // 14px

// 行の高さの微調整
$line-height-base: 1.5;    // デフォルト: 1.5（そのまま）
$line-height-sm: 1.3;      // デフォルト: 1.25
$line-height-lg: 1.7;      // デフォルト: 2

/** =================================================
 * 3. 基本UI要素（ボーダー・フォーカス）
 * ================================================= */
// ボーダー半径の微調整（14px基準）
$border-radius: 0.3rem;     // デフォルト: 0.375rem
$border-radius-sm: 0.2rem;  // デフォルト: 0.25rem
$border-radius-lg: 0.4rem;  // デフォルト: 0.5rem

// フォーカスリングの調整
$focus-ring-width: 0.2rem;  // デフォルト: 0.25rem
$focus-ring-opacity: 0.25;  // デフォルト: 0.25

/** =================================================
 * 4. フォーム・ボタン関連（最重要コンポーネント）
 * ================================================= */
// 共通パディング（input-btn系）
$input-btn-padding-y: 0.3rem;      // デフォルト: 0.375rem
$input-btn-padding-x: 0.65rem;     // デフォルト: 0.75rem
$input-btn-padding-y-sm: 0.2rem;   // デフォルト: 0.25rem
$input-btn-padding-x-sm: 0.4rem;   // デフォルト: 0.5rem
$input-btn-padding-y-lg: 0.4rem;   // デフォルト: 0.5rem
$input-btn-padding-x-lg: 0.85rem;  // デフォルト: 1rem

// 入力フィールド専用パディング
$input-padding-y: 0.3rem;      // デフォルト: 0.375rem
$input-padding-x: 0.65rem;     // デフォルト: 0.75rem
$input-padding-y-sm: 0.2rem;   // デフォルト: 0.25rem
$input-padding-x-sm: 0.4rem;   // デフォルト: 0.5rem
$input-padding-y-lg: 0.4rem;   // デフォルト: 0.5rem
$input-padding-x-lg: 0.85rem;  // デフォルト: 1rem

// フォームラベル・テキスト関連
$form-label-margin-bottom: 0.4rem;  // デフォルト: 0.5rem
$form-text-margin-top: 0.2rem;      // デフォルト: 0.25rem

// フォームチェック関連
$form-check-padding-start: 1.3rem;  // デフォルト: 1.5em
$form-check-margin-bottom: 0.1rem;  // デフォルト: 0.125rem

/** =================================================
 * 5. ナビゲーション関連
 * ================================================= */
// ナビゲーションバー
$navbar-padding-y: 0.4rem;         // デフォルト: 0.5rem
$navbar-toggler-padding-y: 0.2rem; // デフォルト: 0.25rem
$navbar-toggler-padding-x: 0.6rem; // デフォルト: 0.75rem

// ナビ・タブ関連
$nav-link-padding-y: 0.4rem;       // デフォルト: 0.5rem
$nav-link-padding-x: 0.875rem;     // デフォルト: 1rem

/** =================================================
 * 6. レイアウト系コンポーネント
 * ================================================= */
// カード関連
$card-spacer-y: 0.875rem;      // デフォルト: 1rem
$card-spacer-x: 0.875rem;      // デフォルト: 1rem
$card-cap-padding-y: 0.4rem;   // デフォルト: 0.5rem
$card-cap-padding-x: 0.875rem; // デフォルト: 1rem

// テーブル関連
$table-cell-padding-y: 0.4rem;    // デフォルト: 0.5rem
$table-cell-padding-x: 0.4rem;    // デフォルト: 0.5rem
$table-cell-padding-y-sm: 0.2rem; // デフォルト: 0.25rem
$table-cell-padding-x-sm: 0.2rem; // デフォルト: 0.25rem

// モーダル関連
$modal-header-padding-y: 0.875rem; // デフォルト: 1rem
$modal-header-padding-x: 0.875rem; // デフォルト: 1rem
$modal-body-padding: 0.875rem;     // デフォルト: 1rem
$modal-footer-padding-y: 0.6rem;   // デフォルト: 0.75rem
$modal-footer-padding-x: 0.875rem; // デフォルト: 1rem

/** =================================================
 * 7. フィードバック系コンポーネント
 * ================================================= */
// アラート関連
$alert-padding-y: 0.6rem;      // デフォルト: 0.75rem
$alert-padding-x: 0.875rem;    // デフォルト: 1rem

// トースト関連
$toast-padding-x: 0.6rem;      // デフォルト: 0.75rem
$toast-padding-y: 0.35rem;     // デフォルト: 0.5rem

// ツールチップ・ポップオーバー関連
$tooltip-padding-y: 0.35rem;       // デフォルト: 0.25rem
$tooltip-padding-x: 0.7rem;        // デフォルト: 0.5rem
$tooltip-font-size: $font-size-sm; // デフォルト: $font-size-sm

$popover-body-padding-x: 0.875rem;   // デフォルト: 1rem
$popover-body-padding-y: 0.7rem;     // デフォルト: 0.5rem
$popover-header-padding-y: 0.7rem;   // デフォルト: 0.5rem
$popover-header-padding-x: 0.875rem; // デフォルト: 1rem

/** =================================================
 * 8. UI部品・コントロール系
 * ================================================= */
// ドロップダウン関連
$dropdown-padding-x: 0;             // デフォルト: 0
$dropdown-padding-y: 0.4rem;        // デフォルト: 0.5rem
$dropdown-item-padding-y: 0.2rem;   // デフォルト: 0.25rem
$dropdown-item-padding-x: 0.875rem; // デフォルト: 1rem

// バッジ関連
$badge-padding-y: 0.3rem;  // デフォルト: 0.35rem
$badge-padding-x: 0.55rem; // デフォルト: 0.65rem

// ページネーション関連
$pagination-padding-y: 0.3rem;    // デフォルト: 0.375rem
$pagination-padding-x: 0.6rem;    // デフォルト: 0.75rem
$pagination-padding-y-sm: 0.2rem; // デフォルト: 0.25rem
$pagination-padding-x-sm: 0.4rem; // デフォルト: 0.5rem
$pagination-padding-y-lg: 0.6rem; // デフォルト: 0.75rem
$pagination-padding-x-lg: 1rem;   // デフォルト: 1.5rem

// リストグループ関連
$list-group-item-padding-y: 0.4rem;   // デフォルト: 0.5rem
$list-group-item-padding-x: 0.875rem; // デフォルト: 1rem

// ブレッドクラム関連
$breadcrumb-padding-y: 0.6rem;        // デフォルト: 0.75rem
$breadcrumb-padding-x: 0.875rem;      // デフォルト: 1rem
$breadcrumb-item-padding-x: 0.4rem;   // デフォルト: 0.5rem

/** =================================================
 * 9. プログレス・アコーディオン（特殊コンポーネント）
 * ================================================= */
// プログレスバー関連
$progress-height: 0.875rem;                  // デフォルト: 1rem
$progress-font-size: $font-size-base * 0.6; // デフォルト: $font-size-base * 0.75

// アコーディオン関連
$accordion-padding-y: 0.875rem; // デフォルト: 1rem
$accordion-padding-x: 1rem;     // デフォルト: 1.25rem

/** =================================================
 * 10. テーマカラー（最後に定義）
 * ================================================= */
$theme-colors: (
  "primary": #0d6efd,
  "secondary": #6c757d,
  "success": #38c172,
  "info": #6cb2eb,
  "warning": #ffed4a,
  "danger": #e3342f,
  "light": #f8f9fa,
  "dark": #343a40,
  "accent1": #6d6d6d,
  "excel": #0f6835,
  "pdf": #d8022d,
);
/** ナビゲーション(ヘッダー)左上のアプリ名のフォントサイズ */
$navbar-brand-font-size: 1rem;

/** モーダル表示/非表示アニメーション */
$modal-transition:
  transform 0.2s ease-out,
  opacity 0.2s ease-out;

@import "~bootstrap-icons/font/bootstrap-icons.css";
@import "~bootstrap/scss/bootstrap";
@import "../../node_modules/flatpickr/dist/flatpickr.min.css";
@import "../../node_modules/tabulator-tables/dist/css/tabulator_bootstrap5.min.css";
@import "../../node_modules/tom-select/dist/css/tom-select.bootstrap5.min.css";
@import "../scss/waitingScreen.scss";
@import url("https://cdn.jsdelivr.net/npm/flatpickr@latest/dist/plugins/monthSelect/style.css");
@import "../../node_modules/bootstrap5-toggle/css/bootstrap5-toggle.min.css";
@import "tabulator_custom";

/** 共通スタイル */
html,
body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  color: rgb(11, 37, 6);
}

* {
  box-sizing: border-box;
}

body {
  background-color: map-get($theme-colors, "light");
  display: none;
  &.initialized {
    display: flex;
    flex-direction: column !important;
  }
}

.container {
  flex-grow: 1;
}

.hidden {
  display: none !important;
}

.navbar {
  background-color: map-get($theme-colors, "dark");
  box-shadow: 0px -0px 15px map-get($theme-colors, "dark");
}

// レスポンシブブレークポイント定義
// ノートPCサイズ: 1280×443px
$breakpoint-laptop: 1280px;
$breakpoint-tablet: 768px;
$breakpoint-mobile: 576px;
$breakpoint-mobile-sm: 480px;

// ラベル幅の定義
$label-width-xsm: 60px;
$label-width-sm: 90px;
$label-width-md: 120px;
$label-width-lg: 150px;
$label-width-xlg: 200px;

// カスタムグリッドクラス（ノートPCサイズ対応）
// 1281px以上では横並び（2列）
@media (min-width: #{$breakpoint-laptop + 1px}) {
  .col-laptop-6 {
    flex: 0 0 auto;
    width: 50%;
  }
  .col-laptop-4 {
    flex: 0 0 auto;
    width: 33.33333333%;
  }
  .col-laptop-3 {
    flex: 0 0 auto;
    width: 25%;
  }
  .col-laptop-8 {
    flex: 0 0 auto;
    width: 66.66666667%;
  }
}

.custom-input,
.custom-select,
.custom-radio,
.custom-file,
.custom-checkbox,
.custom-date,
.custom-month,
.custom-toggle,
.custom-label {
  .form-label {
    &:not(:empty) {
      margin-right: 1rem;
      margin-bottom: 0px;
      white-space: normal;
      line-height: 1.2;
    }
  }

  .label-width-fixed-xsm {
    min-width: $label-width-xsm;
    max-width: $label-width-xsm;
  }
  .label-width-fixed-sm {
    min-width: $label-width-sm;
    max-width: $label-width-sm;
  }
  .label-width-fixed-md {
    min-width: $label-width-md;
    max-width: $label-width-md;
  }
  .label-width-fixed-lg {
    min-width: $label-width-lg;
    max-width: $label-width-lg;
  }
  .label-width-fixed-xlg {
    min-width: $label-width-xlg;
    max-width: $label-width-xlg;
  }
}

.custom-month .flatpickr-input,
.custom-date .flatpickr-input {
  width: 110px;
}

.custom-input input[readonly],
.custom-date input[readonly],
.custom-month input[readonly] {
  background-color: rgb(206, 206, 206);
}

input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button {
  -webkit-appearance: textfield !important;
  appearance: textfield !important;
  margin: 0;
}

.custom-radio input[type="radio"][readonly],
.custom-radio input[type="checkbox"][readonly] {
  appearance: none;
  pointer-events: none;
  background: none;
  border: none;

  & + label {
    pointer-events: none;
  }

  &::before {
    content: "●";
    color: #797979;
    position: relative;
    right: 2px;
    bottom: 4px;
  }
  &:checked::before {
    content: "●";
    color: map-get($theme-colors, "primary");
    right: 2px;
    bottom: 4px;
  }
}

.custom-radio .horizontal {
  display: flex;
  > .form-check {
    margin-right: 1.5em;
  }
}

.custom-label .label-value {
  height: 30px;
  line-height: 30px;
}

.required::after {
  content: "(必須)";
  margin-left: 10px;
  color: rgb(255, 49, 49);
}

.invalid-message {
  margin-left: 150px;
  color: rgb(255, 49, 49);
  margin-bottom: 0px;
  padding-left: 0px;
  & li {
    list-style-type: none;
  }
}
.invalid-message-xsm {
  margin-left: calc($label-width-xsm + 20px);
}
.invalid-message-sm {
  margin-left: calc($label-width-sm + 20px);
}
.invalid-message-md {
  margin-left: calc($label-width-md + 20px);
}
.invalid-message-lg {
  margin-left: calc($label-width-lg + 20px);
}
.invalid-message-xlg {
  margin-left: calc($label-width-xlg + 20px);
}

.tab-pane button {
  width: 250px;
  max-width: 250px;
}

.button-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, 275px);
}

.menu-label {
  border-left: 3px double;
  font-size: x-large;
}

input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

// .tabulator-editable {
//   background-color: #dafdff;  // 編集可能セルの水色背景を無効化
// }

.ts-control > input {
  min-width: 0px;
}

.disabled .ts-control {
  opacity: 1;

  .remove {
    display: none !important;
  }
}

.dropdown-item:hover {
  cursor: pointer;
}

// tabulator
.tabulator-row {
  min-height: 20px !important;
}
.tabulator-row .tabulator-cell {
  padding: 2px !important;
}
.tabulator .tabulator-header .tabulator-col .tabulator-col-content {
  padding: 4px !important;
}

.tabulator {
  font-size: $font-size-base; // 14px from common.scss
  
  .tabulator-header {   
    .tabulator-col {
      .tabulator-col-title {
        font-size: $font-size-base; // 14px
      }
    }
  }
  
  .tabulator-row {
    .tabulator-cell {
      font-size: $font-size-base; // 14px
    }
  }
}
